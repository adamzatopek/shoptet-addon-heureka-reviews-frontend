/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/footer/heureka-fetch-data.js":
/*!******************************************!*\
  !*** ./src/footer/heureka-fetch-data.js ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// heureka-reviews.js\n$(document).ready(function () {\n  var HeurekaCountry = {\n    CZ: 1,\n    SK: 2,\n    HU: 3\n  };\n  var HeurekaReviewsTemplateType = {\n    DEFAULT: 0,\n    STYLE1: 1,\n    STYLE2: 2,\n    STYLE3: 3\n  };\n  function getStarRating(rating) {\n    if (rating >= 4.5) return '★★★★★';\n    if (rating >= 3.5) return '★★★★☆';\n    if (rating >= 2.5) return '★★★☆☆';\n    if (rating >= 1.5) return '★★☆☆☆';\n    return '★☆☆☆☆';\n  }\n  if (window.location.pathname === '/') {\n    let shopId = '';\n    let template = '';\n    document.querySelectorAll('script').forEach(script => {\n      if (script.src.includes('heureka-fetch-data.js')) {\n        const url = new URL(script.src);\n        const params = new URLSearchParams(url.search);\n        shopId = params.get('shopId');\n        template = params.get('template') || 'Classic';\n        console.log(template);\n      }\n    });\n    $.ajax({\n      url: `https://addons-shoptet.adamzatopek.cz/heureka-reviews/heureka_data.php?shopId=${shopId}`,\n      type: 'GET',\n      dataType: 'json',\n      success: function (response) {\n        if (response.error) {\n          console.error(\"Chyba: \" + response.error);\n          return;\n        }\n        let reviewsUrl = response.reviewsUrl || \"\";\n        let heurekaShopName = response.HeurekaShopName || \"\";\n        let heurekaReviewsTitle = response.HeurekaReviewsTitle || \"\";\n        var heurekaCountry = response.HeurekaCountry;\n        var heurekaReviewsTemplateType = response.HeurekaReviewsTemplateType;\n        var reviewsCount = response.totalCount;\n        if (reviewsCount === 0) {\n          console.error(\"Počet recenzí je: \" + reviewsCount);\n          return;\n        }\n        var imgSourceClass = {\n          [HeurekaCountry.CZ]: \"review-cz\",\n          [HeurekaCountry.SK]: \"review-sk\",\n          [HeurekaCountry.HU]: \"review-hu\"\n        };\n        var countryTitles = {\n          [HeurekaCountry.CZ]: \"Hodnocení obchodu\",\n          [HeurekaCountry.SK]: \"Hodnotenie obchodu\",\n          [HeurekaCountry.HU]: \"Az üzlet értékelése\"\n        };\n        var countryCustomer = {\n          [HeurekaCountry.CZ]: \"Ověřený zákazník\",\n          [HeurekaCountry.SK]: \"Overený zákazník\",\n          [HeurekaCountry.HU]: \"Ellenőrzött ügyfél\"\n        };\n        var countryTranslations = {\n          [HeurekaCountry.CZ]: [\"Obchod\", \"hodnotilo\", \"zákazníků\", \"na\", \"Heureka.cz\"],\n          [HeurekaCountry.SK]: [\"Obchod\", \"hodnotilo\", \"zákazníkov\", \"na\", \"Heureka.sk\"],\n          [HeurekaCountry.HU]: [\"Kereskedelmi\", \"értékelték\", \"vásárlók\", \"oldalon\", \"az Arukereso.hu\"]\n        };\n        var reviewClass = {\n          [HeurekaReviewsTemplateType.DEFAULT]: \"review-default\",\n          [HeurekaReviewsTemplateType.STYLE1]: \"review-style1\",\n          [HeurekaReviewsTemplateType.STYLE2]: \"review-style2\",\n          [HeurekaReviewsTemplateType.STYLE3]: \"review-style3\"\n        }[heurekaReviewsTemplateType] || \"review-default\";\n\n        // Parsování XML obsahu\n        var parser = new DOMParser();\n        var xmlDoc = parser.parseFromString(response.html, \"text/xml\");\n        var reviews = xmlDoc.getElementsByTagName('review');\n        var reviewsArray = [];\n        let totalRatingSum = response.totalSum;\n        for (let i = 0; i < reviews.length; i++) {\n          var rating = parseFloat(reviews[i].getElementsByTagName('total_rating')[0]?.textContent || 0);\n          var unixTimestamp = parseInt(reviews[i].getElementsByTagName('unix_timestamp')[0]?.textContent || 0);\n          var date = new Date(unixTimestamp * 1000);\n          var formattedDate = date.toLocaleDateString('cs-CZ');\n          var summary = reviews[i].getElementsByTagName('summary')[0]?.textContent || \"\";\n          var prosText = reviews[i].getElementsByTagName('pros')[0]?.textContent || \"\";\n          var varext = reviews[i].getElementsByTagName('cons')[0]?.textContent || \"\";\n          var prosArray = prosText.split('\\n').map(item => item.trim()).filter(item => item);\n          var consArray = varext.split('\\n').map(item => item.trim()).filter(item => item);\n          reviewsArray.push({\n            rating: rating,\n            date: formattedDate,\n            summary: summary,\n            pros: prosArray,\n            cons: consArray\n          });\n        }\n        var averageRating = totalRatingSum / reviewsCount;\n        var averageRatingPercent = (averageRating / 5 * 100).toFixed(1).replace('.', ',');\n        if (averageRatingPercent.endsWith(',0')) {\n          averageRatingPercent = averageRatingPercent.replace(',0', '');\n        }\n        var reviewsHtml = `<h2 class=\"reviews-header\">${heurekaReviewsTitle || countryTitles[heurekaCountry]}</h2>` + `<div class=\"reviews-content ${reviewClass}\">` + `    <div class=\"reviews-total-rating\"><span class=\"value\">${averageRatingPercent} %</span>&nbsp;&nbsp;<span class=\"store-stars\">${getStarRating(averageRating)}</span></div>` + `    <div class=\"store-info\">` + (heurekaShopName ? `${countryTranslations[heurekaCountry][0]} <a href=\"${reviewsUrl}\">${heurekaShopName}</a> ${countryTranslations[heurekaCountry][1]} <span class=\"numb-of-customers\">${reviewsCount}</span> ${countryTranslations[heurekaCountry][2]} ${countryTranslations[heurekaCountry][3]} <a href=\"${reviewsUrl}\">${countryTranslations[heurekaCountry][4]}</a>.` : `${countryTranslations[heurekaCountry][0]} ${countryTranslations[heurekaCountry][1]} <span class=\"numb-of-customers\">${reviews.length}</span> ${countryTranslations[heurekaCountry][2]} ${countryTranslations[heurekaCountry][3]} <a href=\"${reviewsUrl}\">${countryTranslations[heurekaCountry][4]}</a>.`) + `</div>` + `    <div class=\"reviews-carousel\">` + `        <div class=\"prev-reviews\"></div>` + `        <div class=\"reviews-wrapper\">` + `            <div class=\"reviews\">`;\n        reviewsArray.forEach(function (review) {\n          reviewsHtml += `<div class=\"review ${imgSourceClass[heurekaCountry]}\">` + `    <div class=\"review-header\">` + `        <div class=\"name\">${countryCustomer[heurekaCountry]}</div>` + `        <div class=\"date\">${review.date}</div>` + `        <div class=\"review-stars\">${getStarRating(review.rating)}</div>` + `    </div>` + `    <div class=\"review-content\">` + `        <div class=\"review-summary\">${review.summary}</div>` + `        <div class=\"pros-content\">` + review.pros.map(pro => `<div class=\"pros\">${pro}</div>`).join('') + `</div>` + `        <div class=\"cons-content\">` + review.cons.map(con => `<div class=\"cons\">${con}</div>`).join('') + `</div>` + `    </div>` + `</div>`;\n        });\n        reviewsHtml += `            </div>` + `        </div>` + `        <div class=\"next-reviews\"></div>` + `    </div>` + `</div>`;\n\n        // Přidání do DOMu\n        if ($('body').hasClass('one-column-body')) {\n          if (template === 'Classic') {\n            $('.overall-wrapper .content-wrapper.container:last .content').append(reviewsHtml);\n          } else if (template === 'Techno') {\n            var target = $(\"main#content .welcome-wrapper\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content\").append(reviewsHtml);\n            }\n          } else if (template === 'Tango') {\n            var target = $(\"main#content .welcome-wrapper\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content\").append(reviewsHtml);\n            }\n          } else if (template === 'Waltz') {\n            var target = $(\"main#content .welcome-wrapper\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content\").append(reviewsHtml);\n            }\n          } else if (template === 'Step') {\n            var target = $(\"main#content .homepage-texts-wrapper\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content\").append(reviewsHtml);\n            }\n          } else if (template === 'Disco') {\n            var target = $(\"main#content .welcome-wrapper\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content\").append(reviewsHtml);\n            }\n          } else if (template === 'Samba') {\n            var target = $(\"main#content .welcome-wrapper\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content\").append(reviewsHtml);\n            }\n          } else {\n            console.log(\"One column - šablona neznáma\");\n          }\n        } else if ($('body').hasClass('multiple-columns-body')) {\n          if (template === 'Classic') {\n            var target = $(\"main#content .homepage-box.welcome-wrapper\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content\").append(reviewsHtml);\n            }\n          } else if (template === 'Techno') {\n            var target = $(\"main#content .welcome-wrapper\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content\").append(reviewsHtml);\n            }\n          } else if (template === 'Tango') {\n            var target = $(\"main#content .welcome-wrapper\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content\").append(reviewsHtml);\n            }\n          } else if (template === 'Waltz') {\n            var target = $(\"main#content .welcome-wrapper\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content\").append(reviewsHtml);\n            }\n          } else if (template === 'Step') {\n            var target = $(\"main#content .homepage-texts-wrapper\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content\").append(reviewsHtml);\n            }\n          } else if (template === 'Disco') {\n            var target = $(\"main#content .welcome-wrapper\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content\").append(reviewsHtml);\n            }\n          } else if (template === 'Samba') {\n            var target = $(\"main#content .welcome-wrapper\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content\").append(reviewsHtml);\n            }\n          } else {\n            console.log(\"Multiple columns - šablona neznáma\");\n          }\n        } else {\n          if (template === 'Echo') {\n            var target = $(\"main#content-in .welcome-wrap\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content-in\").append(reviewsHtml);\n            }\n          } else if (template === 'Soul') {\n            var target = $(\"main#content-in article.welcome\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content-in\").append(reviewsHtml);\n            }\n          } else if (template === 'Pop') {\n            var target = $(\"main#content-in article#welcome\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content-in\").append(reviewsHtml);\n            }\n          } else if (template === 'Rock') {\n            var target = $(\"main#content-in article#welcome\");\n            if (target.length) {\n              target.before(reviewsHtml);\n            } else {\n              $(\"main#content-in\").append(reviewsHtml);\n            }\n          } else {\n            console(\"Ani jedna ze tříd one-column-body nebo multiple-columns-body\");\n          }\n        }\n\n        // Inicializace slideru\n        initializeSlider();\n      },\n      error: function (error) {\n        console.error(\"Došlo k chybě při načítání dat: \", error);\n      }\n    });\n  }\n});\n\n//# sourceURL=webpack://heureka-reviews/./src/footer/heureka-fetch-data.js?");

/***/ }),

/***/ "./src/footer/heureka-reviews-slider.js":
/*!**********************************************!*\
  !*** ./src/footer/heureka-reviews-slider.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// heureka-reviews-slider.js\nfunction initializeSlider() {\n  var $reviews = $(\".reviews\");\n  var $reviewElements = $(\".review\");\n  var $prevButton = $(\".prev-reviews\");\n  var $nextButton = $(\".next-reviews\");\n  var currentIndex = 0;\n  var autoSlideInterval;\n  function getReviewsPerPage() {\n    if ($(window).width() < 768) {\n      return 1;\n    } else if ($(window).width() < 992) {\n      return 2;\n    } else {\n      return 3;\n    }\n  }\n  function updateSlider() {\n    var reviewWidth = $reviewElements.outerWidth(true);\n    $reviews.css(\"transform\", \"translateX(-\" + currentIndex * reviewWidth + \"px)\");\n  }\n  function nextReview() {\n    var reviewsPerPage = getReviewsPerPage();\n    if (currentIndex + reviewsPerPage >= $reviewElements.length) {\n      currentIndex = 0;\n    } else {\n      currentIndex++;\n    }\n    updateSlider();\n  }\n  function prevReview() {\n    if (currentIndex === 0) {\n      currentIndex = $reviewElements.length - getReviewsPerPage();\n    } else {\n      currentIndex--;\n    }\n    updateSlider();\n  }\n  function startAutoSlide() {\n    autoSlideInterval = setInterval(nextReview, 5000);\n  }\n  function stopAutoSlide() {\n    clearInterval(autoSlideInterval);\n  }\n  $prevButton.on(\"click\", function () {\n    prevReview();\n    stopAutoSlide();\n    startAutoSlide();\n  });\n  $nextButton.on(\"click\", function () {\n    nextReview();\n    stopAutoSlide();\n    startAutoSlide();\n  });\n  $(window).on(\"resize\", function () {\n    updateSlider();\n  });\n  updateSlider();\n  startAutoSlide();\n}\n\n//# sourceURL=webpack://heureka-reviews/./src/footer/heureka-reviews-slider.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	__webpack_modules__["./src/footer/heureka-reviews-slider.js"](0, {}, __webpack_require__);
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/footer/heureka-fetch-data.js"](0, __webpack_exports__, __webpack_require__);
/******/ 	
/******/ })()
;